<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Attendance System - Project Infographic Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Styles to ensure responsive chart containers and font */
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 600px;
            max-height: 700px;
        }
        .donut-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .kpi-card {
            background-color: #FFFFFF;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            text-align: center;
        }
        .kpi-number {
            font-size: 3rem;
            font-weight: 700;
            color: #3B82F6; /* Blue-600 */
        }
        .kpi-label {
            font-size: 1rem;
            font-weight: 500;
            color: #4B5563; /* Gray-600 */
            margin-top: 0.5rem;
        }
        .flow-card {
            background-color: #FFFFFF;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1rem 1.5rem;
            border-left: 4px solid #3B82F6; /* Teacher/Primary */
        }
        .flow-card-student {
            border-left-color: #14B8A6; /* Teal-500 */
        }
        .flow-card-system {
            border-left-color: #6B7280; /* Gray-500 */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 antialiased">

    <header class="bg-white shadow-md">
        <div class="container mx-auto max-w-5xl p-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">QR Attendance System</h1>
            <p class="text-lg md:text-xl text-gray-600 mt-2">A Project Infographic: Visualizing the Path from Concept to Reality</p>
        </div>
    </header>

    <main class="container mx-auto max-w-5xl p-4 md:p-8">

        <!-- Section: Actors & Core Functions -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Actors & Core Functions</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                The system is designed around two primary actors, the Teacher and the Student, interacting with a central system to automate attendance.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-center text-gray-800">üßë‚Äçüè´ Teacher</h3>
                    <div class="flow-card">
                        <h4 class="font-semibold">Manage Classes/Students</h4>
                        <p class="text-sm text-gray-600">Administer class lists and student details.</p>
                    </div>
                    <div class="flow-card">
                        <h4 class="font-semibold">Generate QR Code</h4>
                        <p class="text-sm text-gray-600">Create a unique code for a session.</p>
                    </div>
                    <div class="flow-card">
                        <h4 class="font-semibold">Record Attendance</h4>
                        <p class="text-sm text-gray-600">Manually override or confirm attendance.</p>
                    </div>
                    <div class="flow-card">
                        <h4 class="font-semibold">Export Reports</h4>
                        <p class="text-sm text-gray-600">Download attendance data.</p>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-center text-gray-800">‚öôÔ∏è System</h3>
                    <div class="flow-card flow-card-system">
                        <h4 class="font-semibold">Login/Sign up</h4>
                        <p class="text-sm text-gray-600">Authenticates all users.</p>
                    </div>
                    <div class="flow-card flow-card-system">
                        <h4 class="font-semibold">Process Scans</h4>
                        <p class="text-sm text-gray-600">Validates QR codes and records data.</p>
                    </div>
                    <div class="flow-card flow-card-system">
                        <h4 class="font-semibold">Store Data</h4>
                        <p class="text-sm text-gray-600">Securely manages all attendance records.</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-center text-gray-800">üßë‚Äçüéì Student</h3>
                    <div class="flow-card flow-card-student">
                        <h4 class="font-semibold">Scan QR Code</h4>
                        <p class="text-sm text-gray-600">Mark personal attendance instantly.</p>
                    </div>
                    <div class="flow-card flow-card-student">
                        <h4 class="font-semibold">View Personal Attendance</h4>
                        <p class="text-sm text-gray-600">Check their own attendance history.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Measurable Impact & Quantitative Goals -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Measurable Impact & Quantitative Goals</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                The primary objective is to dramatically improve efficiency and accuracy. This data highlights the core quantitative outcomes driving the project.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                
                <div>
                    <h3 class="text-lg font-semibold text-center mb-4">Attendance Marking Time Reduction</h3>
                    <div class="donut-container">
                        <canvas id="timeChart"></canvas>
                    </div>
                    <p class="text-center text-gray-600 mt-4">
                        The system aims to reduce marking time from ~10 minutes to under 1 minute per session, a **90% reduction**.
                    </p>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="kpi-card">
                        <div class="kpi-number">99%</div>
                        <div class="kpi-label">Data Accuracy</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-number">100%</div>
                        <div class="kpi-label">Proxy Elimination</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-number">80%</div>
                        <div class="kpi-label">Admin Workload Reduction</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-number">50+</div>
                        <div class="kpi-label">Hours Saved / Month</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Project Feasibility (College Project) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Project Feasibility (College Project)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                A feasibility study confirmed the project's viability, focusing on leveraging modern, free-tier tools suitable for an academic environment.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-bold mb-2 text-blue-600">üíª Technical</h3>
                    <p class="text-gray-700">High feasibility using React, TypeScript, and Supabase (free tier). Open-source QR libraries are mature and reliable.</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-bold mb-2 text-green-600">üë®‚Äçüíª Operational</h3>
                    <p class="text-gray-700">High usability on existing student/teacher devices (smartphones, laptops). Minimal training required due to intuitive UI.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-bold mb-2 text-yellow-600">üí∞ Economic</h3>
                    <p class="text-gray-700">$0 development cost (team effort). Minimal recurring cost by using free tiers of Vercel and Supabase. Return is academic.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-bold mb-2 text-red-600">‚öñÔ∏è Legal</h3>
                    <p class="text-gray-700">Manageable. Focus on data privacy (GDPR principles), secure encryption in Supabase, and obtaining parental consent for minors in any pilot tests.</p>
                </div>
            </div>
        </section>

        <!-- NEW SECTION: Requirements Analysis Focus (Phase 2) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Requirements Analysis Focus (Weeks 2-3)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                Phase 2, **Requirements**, focuses on defining the exact functionality, scope, and technical documentation needed for development.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
                
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-teal-500">
                    <p class="text-sm font-semibold text-teal-600">Task 2.1</p>
                    <p class="text-gray-800">Requirements Identification (User Stories, Use Cases)</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-teal-500">
                    <p class="text-sm font-semibold text-teal-600">Task 2.2</p>
                    <p class="text-gray-800">Define Scope, Constraints, & Success Metrics</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-teal-500">
                    <p class="text-sm font-semibold text-teal-600">Task 2.3</p>
                    <p class="text-gray-800">Prepare Comprehensive SRS (Software Requirements Specification)</p>
                </div>
            </div>
        </section>
        
        <!-- NEW SECTION: Design & Planning Focus (Phase 3) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Design & Planning Focus (Weeks 3-4)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                Phase 3, **Design**, translates the requirements into blueprints for the database, architecture, and user interface.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
                
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-green-500">
                    <p class="text-sm font-semibold text-green-600">Task 3.1</p>
                    <p class="text-gray-800">Design Database Schemas & ER Diagrams</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-green-500">
                    <p class="text-sm font-semibold text-green-600">Task 3.2</p>
                    <p class="text-gray-800">Create Low-Fidelity UI/UX Wireframes</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-green-500">
                    <p class="text-sm font-semibold text-green-600">Task 3.3</p>
                    <p class="text-gray-800">Finalize System Architecture & Component Mapping</p>
                </div>
            </div>
        </section>

        <!-- EXISTING SECTION: Implementation Iteration Focus (Phase 4) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Implementation Iteration Focus (Weeks 5-9)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                The core development work (Phase 4, highlighted in purple) is broken down into six focused, incremental sprints.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
                
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 1 (4.1)</p>
                    <p class="text-gray-800">User Authentication & Roles</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 2 (4.2)</p>
                    <p class="text-gray-800">Class & Student Management (CRUD)</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 3 (4.3)</p>
                    <p class="text-gray-800">QR Code Generation & Scanning</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 4 (4.4)</p>
                    <p class="text-gray-800">Attendance Recording & DB Integration</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 5 (4.5)</p>
                    <p class="text-gray-800">Dashboard UI Development</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-purple-500">
                    <p class="text-sm font-semibold text-purple-600">Iteration 6 (4.6)</p>
                    <p class="text-gray-800">Reports & Analytics Module</p>
                </div>
            </div>
        </section>

        <!-- NEW SECTION: Quality Assurance Focus (Phase 5) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Quality Assurance Focus (Weeks 9-10)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                Phase 5, **Testing**, ensures the system is robust, meets all requirements, and delivers a great user experience before release.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
                
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-pink-500">
                    <p class="text-sm font-semibold text-pink-600">Task 5.1</p>
                    <p class="text-gray-800">Unit Testing & System Integration Testing</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-pink-500">
                    <p class="text-sm font-semibold text-pink-600">Task 5.2</p>
                    <p class="text-gray-800">User Acceptance Testing (UAT) with Pilot Users</p>
                </div>
                <div class="p-4 rounded-lg bg-white shadow-md border-t-4 border-pink-500">
                    <p class="text-sm font-semibold text-pink-600">Task 5.3</p>
                    <p class="text-gray-800">Performance, Load, & Security Penetration Testing</p>
                </div>
            </div>
        </section>

        <!-- Section: Project Timeline (10 Weeks) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Project Timeline (10 Weeks)</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                The project follows a 10-week SDLC model, moving from initial research and design through iterative implementation, testing, and final deployment.
            </p>
            <div class="bg-white rounded-lg shadow-md p-6">
                <!-- Custom Legend for Gantt Chart -->
                <div id="ganttLegend" class="flex flex-wrap justify-center gap-4 mb-6">
                    <!-- Legend items will be injected here by JavaScript -->
                </div>
                <div class="chart-container">
                    <canvas id="ganttChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section: Qualitative Benefits -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-2">Qualitative Benefits</h2>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">
                Beyond the numbers, the system provides significant value by modernizing processes and improving the educational environment.
            </p>
            <div class="bg-white rounded-lg shadow-md p-6 max-w-3xl mx-auto">
                <ul class="list-none space-y-3">
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Enhanced transparency in attendance tracking for all parties.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Improved student accountability and awareness of their records.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Empowered teachers with real-time analytics for data-driven insights.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Reduced paper waste, contributing a positive environmental benefit.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Modernized institutional image by adopting efficient technology.
                    </li>
                </ul>
            </div>
            </p>
            <div class="bg-white rounded-lg shadow-md p-6 max-w-3xl mx-auto">
                <ul class="list-none space-y-3">
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Enhanced transparency in attendance tracking for all parties.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Improved student accountability and awareness of their records.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Empowered teachers with real-time analytics for data-driven insights.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Reduced paper waste, contributing a positive environmental benefit.
                    </li>
                    <li class="flex items-center text-lg">
                        <span class="text-green-500 mr-3 text-2xl">‚úì</span>
                        Modernized institutional image by adopting efficient technology.
                    </li>
                </ul>
            </div>
        </section>

    </main>

    <footer class="text-center p-6 text-gray-500 text-sm">
        QR Attendance System - Project Infographic SPA
    </footer>

    <script>
        window.onload = function() {
            
            // --- Helper Functions for Chart Labels and Tooltips ---
            // Function to wrap long Gantt chart labels
            function wrapLabel(label, maxWidth) {
                if (label.length <= maxWidth) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxWidth && currentLine.length > 0) {
                        lines.push(currentLine.trim());
                        currentLine = word + ' ';
                    } else {
                        currentLine += word + ' ';
                    }
                });
                lines.push(currentLine.trim());
                return lines;
            }

            // --- 0. Gantt Phase Data for Legend ---
            const phaseData = [
                { name: "1. Feasibility", color: '#3B82F6' },
                { name: "2. Requirements", color: '#14B8A6' },
                { name: "3. Design", color: '#22C55E' },
                { name: "4. Implementation (Iterative)", color: '#A855F7' },
                { name: "5. Testing", color: '#EC4899' },
                { name: "6. Deployment", color: '#F97316' }
            ];

            // Function to dynamically generate the Gantt chart legend
            function createGanttLegend(data) {
                const legendContainer = document.getElementById('ganttLegend');
                if (!legendContainer) return;

                data.forEach(phase => {
                    const item = document.createElement('div');
                    item.className = 'flex items-center space-x-2 text-sm font-semibold text-gray-800';
                    
                    const colorBox = document.createElement('span');
                    colorBox.className = 'w-4 h-4 rounded-full shadow-md border border-gray-200';
                    colorBox.style.backgroundColor = phase.color;
                    
                    const label = document.createElement('span');
                    label.textContent = phase.name;
                    
                    item.appendChild(colorBox);
                    item.appendChild(label);
                    legendContainer.appendChild(item);
                });
            }

            // Call the legend creator immediately
            createGanttLegend(phaseData);


            // --- 1. Doughnut Chart (Time Reduction) ---
            const timeCtx = document.getElementById('timeChart');
            if (timeCtx) {
                new Chart(timeCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Manual Marking (10 min)', 'QR Marking (<1 min)'],
                        datasets: [{
                            data: [90, 10], // 90% reduction (10 minutes vs 1 minute)
                            backgroundColor: [
                                '#FCA5A5', // Light Red/Pink
                                '#3B82F6'  // Blue (Primary Color)
                            ],
                            borderColor: [
                                '#FFFFFF',
                                '#FFFFFF'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'bottom',
                            },
                            tooltip: {
                                // Ensures full label is shown even if wrapped
                                callbacks: {
                                    title: function(tooltipItems) {
                                        let label = tooltipItems[0].label;
                                        if (Array.isArray(label)) {
                                            return label.join(' ');
                                        } else {
                                            return label;
                                        }
                                    }
                                }
                            }
                        }
                    },
                    plugins: [{ // Plugin to add the 90% text in the center
                        id: 'centerText',
                        beforeDraw: function(chart) {
                            const { ctx } = chart;
                            ctx.save();
                            const x = chart.getDatasetMeta(0).data[0].x;
                            const y = chart.getDatasetMeta(0).data[0].y;
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.font = '700 3rem Inter';
                            ctx.fillStyle = '#3B82F6';
                            ctx.fillText('90%', x, y - 10);
                            
                            ctx.font = '500 1rem Inter';
                            ctx.fillStyle = '#4B5563';
                            ctx.fillText('Reduction', x, y + 25);
                            ctx.restore();
                        }
                    }]
                });
            }

            // --- 2. Gantt Chart (Project Timeline) ---
            const ganttCtx = document.getElementById('ganttChart');
            if (ganttCtx) {
                // UPDATED Labels
                const rawLabels = [
                    "1.1 Feasibility Assessment",
                    "2.1 Requirements Identification",
                    "2.2 Define Scope & Metrics",
                    "2.3 Prepare SRS Document",
                    "3.1 Design Database & ER Diagrams",
                    "3.2 Create UI/UX Wireframes",
                    "3.3 System Architecture Design",
                    "4.1 User Authentication Module",
                    "4.2 Class & Student Management",
                    "4.3 QR Code Generation & Scan",
                    "4.4 Attendance & DB Integration",
                    "4.5 Dashboard Development",
                    "4.6 Reports & Analytics Module",
                    "5.1 Unit & System Testing",
                    "5.2 User Acceptance Testing",
                    "5.3 Performance & Security Testing",
                    "6.1 Deployment (Vercel/Supabase)",
                    "6.2 Presentation & Documentation" 
                ];

                const ganttLabels = rawLabels.map(label => wrapLabel(label, 30));
                
                // Data mapping weeks (1-10) to 0-indexed chart values (0-9)
                const startData_1_indexed = [1, 2, 2, 2, 3, 3, 3, 5, 6, 7, 7, 8, 8, 9, 9, 9, 10, 10];
                const startData = startData_1_indexed.map(d => d - 1);
                const durationData = [1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1];

                // Colors derived from phaseData for legend consistency
                const phaseColors = phaseData.map(p => p.color);
                
                // Map tasks to their phase color
                const taskColors = [
                    phaseColors[0], 
                    phaseColors[1], phaseColors[1], phaseColors[1], 
                    phaseColors[2], phaseColors[2], phaseColors[2], 
                    phaseColors[3], phaseColors[3], phaseColors[3], phaseColors[3], phaseColors[3], phaseColors[3], 
                    phaseColors[4], phaseColors[4], phaseColors[4], 
                    phaseColors[5], phaseColors[5]
                ];

                new Chart(ganttCtx, {
                    type: 'bar',
                    data: {
                        labels: ganttLabels,
                        datasets: [
                            {
                                label: 'Start Week (Hidden)',
                                data: startData,
                                backgroundColor: 'transparent', // Makes the start bar invisible
                                barPercentage: 0.6,
                                categoryPercentage: 0.8
                            },
                            {
                                label: 'Duration (Weeks)',
                                data: durationData,
                                backgroundColor: taskColors,
                                barPercentage: 0.6,
                                categoryPercentage: 0.8
                            }
                        ]
                    },
                    options: {
                        indexAxis: 'y', // Horizontal bars
                        responsive: true,
                        maintainAspectRatio: false,
                        stacked: true, // Crucial for Gantt effect
                        scales: {
                            x: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'Week Number'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + 1; // Display 1-10 instead of 0-9
                                    }
                                },
                                min: 0,
                                max: 10
                            },
                            y: {
                                stacked: true
                            }
                        },
                        plugins: {
                            legend: {
                                display: false // Hiding default dataset legend, using custom legend
                            },
                            tooltip: {
                                callbacks: {
                                    // Show the full task name in the tooltip title
                                    title: function(tooltipItems) {
                                        const item = tooltipItems[0];
                                        return rawLabels[item.dataIndex]; // Use the unwrapped original label
                                    },
                                    // Custom tooltip to show duration and week range
                                    label: function(context) {
                                        if (context.datasetIndex === 1) { // Only for the duration bar
                                            const duration = context.raw;
                                            const start = context.chart.data.datasets[0].data[context.dataIndex];
                                            const end = start + duration;
                                            return `Duration: ${duration} week(s) (Week ${start + 1} to ${end})`;
                                        }
                                        return null;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        };
    </script>
</body>
</html>
